@startuml MonstrePocheDiagrammeClasses

class Combat {
    +static main(String[] args) : void

    +demarrerCombat() : void
    +selectionnerMonstre(Joueur joueur) : void
    +selectionnerAttaque(Joueur joueur, Monstre monstre) : void
    +demarreTour() : void
    +executerTour() : void
    +estCombatTermine() : boolean
}

Combat --> Joueur : -joueur1
Combat --> Joueur : -joueur2
Combat --> Joueur : -tourActuel

class Joueur {
    -nomJoueur : String
    -enAttenteAtion : boolean
    
    +Joueur(String nomJoueur)
    +getNomJoueur() : String
    +isEnAttenteAtion() : boolean
    +getMonstres() : Monstre[]
    +getMonstreActuel() : Monstre
    +setNomJoueur(String nomJoueur) : void
    +setEnAttenteAtion(boolean enAttenteAtion) : void
    +setMonstres(Monstre[] monstres) : void
    +setMonstreActuel(Monstre monstreActuel) : void
    +ajouterMonstre(Monstre monstre) : void
    +choisirAttaque() : void
    +choisirObjet() : void
    +changerMonstre() : void
    +sontMonstresMorts() : boolean
}

class Monstre {
    -nomMonstre : String
    -pointsDeVie : int
    -attaque : int
    -defense : int
    -vitesse : int
    
    +Monstre(String nomMonstre, int pointsDeVie, int attaque, int defense, int vitesse, ArrayList<Attaque> attaques, Type typeMonstre)
    +getNomMonstre() : String
    +getPointsDeVie() : int
    +getAttaque() : int
    +getDefense() : int
    +getVitesse() : int
    +getAttaques() : ArrayList<Attaque>
    +getTypeMonstre() : Type
    +getStatut() : StatutMonstre
    +setNomMonstre(String nomMonstre) : void
    +setPointsDeVie(int pointsDeVie) : void
    +setAttaque(int attaque) : void
    +setDefense(int defense) : void
    +setVitesse(int vitesse) : void
    +setAttaques(ArrayList<Attaque> attaques) : void
    +setStatut(StatutMonstre statut) : void
    +setTypeMonstre(Type typeMonstre) : void
    +attaquer(Monstre cible) : void
}

class Attaque {
    -nomAttaque : String
    -nbUtilisations : int
    -puissanceAttaque : int
    -probabiliteEchec : double
    
    +Attaque(String nomAttaque, int nbUtilisations, int puissanceAttaque, double probabiliteEchec)
    +getNomAttaque() : String
    +getNbUtilisations() : int
    +getPuissanceAttaque() : int
    +getProbabiliteEchec() : double
    +setNomAttaque(String nomAttaque) : void
    +setNbUtilisations(int nbUtilisations) : void
    +setPuissanceAttaque(int puissanceAttaque) : void
    +setProbabiliteEchec(double probabiliteEchec) : void
}

abstract class Type {
    #labelType : String
}

class Eau extends Type {
    -probabiliteInnondation : double
    -probabiliteFaireChuter : double
    
    +Eau()
    +getProbabiliteInnondation() : double
    +getProbabiliteFaireChuter() : double
    +setProbabiliteInnondation(double probabiliteInnondation) : void
    +setProbabiliteFaireChuter(double probabiliteFaireChuter) : void
    +faitChuter(Monstre cible) : boolean
}

class Feu extends Type {
    -chanceBrulure : double
    
    +Feu()
    +getChanceBrulure() : double
    +setChanceBrulure(double chanceBrulure) : void
    +bruler(Monstre cible) : boolean
}

class Foudre extends Type {
    -chanceParalysie : double
    
    +Foudre()
    +getChanceParalysie() : double
    +setChanceParalysie(double chanceParalysie) : void
    +paralyser(Monstre cible) : boolean
}

class Terre extends Type {
    -chanceFuite : double
    
    +Terre()
    +getChanceFuite() : double
    +setChanceFuite(double chanceFuite) : void
    +fuit() : boolean
}

class Nature extends Type {
    +recupererSante(Monstre cible) : void
}

class Plante extends Nature {
    -chanceSoigner : double
    
    +Plante()
    +getChanceSoigner() : double
    +setChanceSoigner(double chanceSoigner) : void
    +soigner() : boolean
    +supprimerEffetStatut() : void
}

class Insecte extends Nature {
    -chanceEmpoisonner : double
    
    +Insecte()
    +getChanceEmpoisonner() : double
    +setChanceEmpoisonner(double chanceEmpoisonner) : void
    +empoisonner(Monstre cible) : boolean
}

abstract class StatutMonstre {
    #labelStatut : String
    #nbToursEffet : int
    #chanceEffet : double
    
    +decrementerNbToursEffet() : void
}

class Brule extends StatutMonstre {
    +Brule()
    +appliquerDegats(Monstre cible) : void
}

class Mouille extends StatutMonstre {
    +Mouille()
    +glisser(Monstre cible) : boolean
}

class Paralyse extends StatutMonstre {
    +Paralyse()
    +rateAttaque(Monstre cible) : double
    +estSortieParalysie(Monstre cible) : void
}

class Empoisonne extends StatutMonstre {
    +Empoisonne()
    +appliquerDegats(Monstre cible) : void
}

class Normal extends StatutMonstre {
    +Normal()
}

abstract class Objet {
    #nomObjet : String
}

abstract class Potion extends Objet {
    +Potion(String nomObjet)
    +{abstract} utiliserPotion(Monstre cible) : void
}

class PotionSante extends Potion {
    -pointsDeSoin : int
    
    +PotionSante(String nomObjet, int pointsDeSoin)
    +getPointsDeSoin() : int
    +setPointsDeSoin(int pointsDeSoin) : void
    +utiliserPotion(Monstre cible) : void
}

class PotionDegat extends Potion {
    -pointsDeDegat : int
    
    +PotionDegat(String nomObjet, int pointsDeDegat)
    +getPointsDeDegat() : int
    +setPointsDeDegat(int pointsDeDegat) : void
    +utiliserPotion(Monstre cible) : void
}

class PotionVitesse extends Potion {
    -pointsDeVitesse : int
    
    +PotionVitesse(String nomObjet, int pointsDeVitesse)
    +getPointsDeVitesse() : int
    +setPointsDeVitesse(int pointsDeVitesse) : void
    +utiliserPotion(Monstre cible) : void
}

abstract class Medicament extends Objet {
    +Medicament(String nomObjet)
    +{abstract} utiliserMedicament(Monstre cible) : void
}

class MedicamentAntiBrulure extends Medicament {
    +MedicamentAntiBrulure(String nomObjet)
    +utiliserMedicament(Monstre cible) : void
}

class MedicamentAntiInnondation extends Medicament {
    +MedicamentAntiInnondation(String nomObjet)
    +utiliserMedicament(Monstre cible) : void
}

class MedicamentAntiParalysie extends Medicament {
    +MedicamentAntiParalysie(String nomObjet)
    +utiliserMedicament(Monstre cible) : void
}

class MedicamentAntiPoison extends Medicament {
    +MedicamentAntiPoison(String nomObjet)
    +utiliserMedicament(Monstre cible) : void
}

' Relations principales
Joueur "1" --> "0..3" Monstre : -monstres
Joueur "1" --> "1" Monstre : -monstreActuel
Monstre "1" --> "0..4" Attaque : -attaques
Monstre "1" --> "1" Type : -typeMonstre
Monstre "1" --> "0..1" StatutMonstre : -statut

' Relations entre Types (auto-association)
Type --> Type : #faibleContre
Type --> Type : #fortContre

@enduml